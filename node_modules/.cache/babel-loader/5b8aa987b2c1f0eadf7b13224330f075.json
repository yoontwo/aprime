{"ast":null,"code":"import React, { Fragment, useCallback, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { Grid } from '../Grid';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { focusStyle, unfocusStyle } from '../../utils';\nimport { Swatch } from './Swatch';\nvar DetailControl = styled(Box).withConfig({\n  displayName: \"Detail__DetailControl\",\n  componentId: \"huiwg9-0\"\n})([\"&:focus{\", \"}&:focus:not(:focus-visible){\", \"}\"], focusStyle(), unfocusStyle());\n\nvar Detail = function Detail(_ref) {\n  var activeProperty = _ref.activeProperty,\n      axis = _ref.axis,\n      data = _ref.data,\n      series = _ref.series,\n      seriesStyles = _ref.seriesStyles,\n      renderValue = _ref.renderValue,\n      thickness = _ref.thickness;\n\n  var _useState = useState(),\n      detailIndex = _useState[0],\n      setDetailIndex = _useState[1];\n\n  var activeIndex = useRef();\n  var detailRefs = useMemo(function () {\n    return [];\n  }, []);\n  var onMouseLeave = useCallback(function (event) {\n    // Only remove detail if the mouse isn't over the active index.\n    // This helps distinguish leaving the drop on the edge where it is\n    // anchored.\n    var rect = activeIndex.current.getBoundingClientRect();\n\n    if (event.pageX < rect.left || event.pageX > rect.right || event.pageY < rect.top || event.pageY > rect.bottom) {\n      activeIndex.current = undefined;\n      setDetailIndex(undefined);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: function onLeft() {\n      if (detailIndex === undefined) setDetailIndex(data.length - 1);else if (detailIndex > 0) setDetailIndex(detailIndex - 1);\n    },\n    onRight: function onRight() {\n      if (detailIndex === undefined) setDetailIndex(0);else if (detailIndex < data.length - 1) setDetailIndex(detailIndex + 1);\n    }\n  }, /*#__PURE__*/React.createElement(DetailControl, {\n    key: \"band\",\n    tabIndex: 0,\n    direction: \"row\",\n    fill: true,\n    justify: \"between\",\n    responsive: false,\n    onFocus: function onFocus() {},\n    onBlur: function onBlur() {\n      return setDetailIndex(undefined);\n    }\n  }, data.map(function (_, i) {\n    return /*#__PURE__*/React.createElement(Box // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: i,\n      align: \"center\",\n      responsive: false,\n      width: thickness,\n      onMouseOver: function onMouseOver(event) {\n        activeIndex.current = event.currentTarget;\n        setDetailIndex(i);\n      },\n      onMouseLeave: onMouseLeave,\n      onFocus: function onFocus() {},\n      onBlur: function onBlur() {}\n    }, /*#__PURE__*/React.createElement(Box, {\n      ref: function ref(c) {\n        detailRefs[i] = c;\n      },\n      fill: \"vertical\",\n      border: detailIndex === i ? true : undefined\n    }));\n  }))), detailIndex !== undefined && detailRefs[detailIndex] && /*#__PURE__*/React.createElement(Drop, {\n    key: \"drop\",\n    target: detailRefs[detailIndex],\n    align: detailIndex > data.length / 2 ? {\n      right: 'left'\n    } : {\n      left: 'right'\n    },\n    plain: true,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/React.createElement(Box, {\n    pad: \"small\",\n    background: {\n      color: 'background-back'\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    columns: ['auto', 'auto', 'auto'],\n    gap: \"xsmall\",\n    align: \"center\"\n  }, series.filter(function (_ref2) {\n    var property = _ref2.property;\n    return !activeProperty || activeProperty === property || axis && axis.x && axis.x.property === property;\n  }).map(function (serie) {\n    var propertyStyle = seriesStyles[serie.property];\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: serie.property\n    }, propertyStyle ? /*#__PURE__*/React.createElement(Swatch, propertyStyle) : /*#__PURE__*/React.createElement(\"span\", null), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\"\n    }, serie.label || serie.property), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\",\n      weight: \"bold\"\n    }, renderValue(serie, detailIndex)));\n  })))));\n};\n\nexport { Detail };","map":{"version":3,"sources":["C:/Users/백지윤/Desktop/React/mbti/node_modules/grommet/es6/components/DataChart/Detail.js"],"names":["React","Fragment","useCallback","useMemo","useRef","useState","styled","Box","Drop","Grid","Keyboard","Text","focusStyle","unfocusStyle","Swatch","DetailControl","withConfig","displayName","componentId","Detail","_ref","activeProperty","axis","data","series","seriesStyles","renderValue","thickness","_useState","detailIndex","setDetailIndex","activeIndex","detailRefs","onMouseLeave","event","rect","current","getBoundingClientRect","pageX","left","right","pageY","top","bottom","undefined","createElement","onLeft","length","onRight","key","tabIndex","direction","fill","justify","responsive","onFocus","onBlur","map","_","i","align","width","onMouseOver","currentTarget","ref","c","border","target","plain","pad","background","color","columns","gap","filter","_ref2","property","x","serie","propertyStyle","size","label","weight"],"mappings":"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","sourcesContent":["import React, { Fragment, useCallback, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { Grid } from '../Grid';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { focusStyle, unfocusStyle } from '../../utils';\nimport { Swatch } from './Swatch';\nvar DetailControl = styled(Box).withConfig({\n  displayName: \"Detail__DetailControl\",\n  componentId: \"huiwg9-0\"\n})([\"&:focus{\", \"}&:focus:not(:focus-visible){\", \"}\"], focusStyle(), unfocusStyle());\n\nvar Detail = function Detail(_ref) {\n  var activeProperty = _ref.activeProperty,\n      axis = _ref.axis,\n      data = _ref.data,\n      series = _ref.series,\n      seriesStyles = _ref.seriesStyles,\n      renderValue = _ref.renderValue,\n      thickness = _ref.thickness;\n\n  var _useState = useState(),\n      detailIndex = _useState[0],\n      setDetailIndex = _useState[1];\n\n  var activeIndex = useRef();\n  var detailRefs = useMemo(function () {\n    return [];\n  }, []);\n  var onMouseLeave = useCallback(function (event) {\n    // Only remove detail if the mouse isn't over the active index.\n    // This helps distinguish leaving the drop on the edge where it is\n    // anchored.\n    var rect = activeIndex.current.getBoundingClientRect();\n\n    if (event.pageX < rect.left || event.pageX > rect.right || event.pageY < rect.top || event.pageY > rect.bottom) {\n      activeIndex.current = undefined;\n      setDetailIndex(undefined);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: function onLeft() {\n      if (detailIndex === undefined) setDetailIndex(data.length - 1);else if (detailIndex > 0) setDetailIndex(detailIndex - 1);\n    },\n    onRight: function onRight() {\n      if (detailIndex === undefined) setDetailIndex(0);else if (detailIndex < data.length - 1) setDetailIndex(detailIndex + 1);\n    }\n  }, /*#__PURE__*/React.createElement(DetailControl, {\n    key: \"band\",\n    tabIndex: 0,\n    direction: \"row\",\n    fill: true,\n    justify: \"between\",\n    responsive: false,\n    onFocus: function onFocus() {},\n    onBlur: function onBlur() {\n      return setDetailIndex(undefined);\n    }\n  }, data.map(function (_, i) {\n    return /*#__PURE__*/React.createElement(Box // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: i,\n      align: \"center\",\n      responsive: false,\n      width: thickness,\n      onMouseOver: function onMouseOver(event) {\n        activeIndex.current = event.currentTarget;\n        setDetailIndex(i);\n      },\n      onMouseLeave: onMouseLeave,\n      onFocus: function onFocus() {},\n      onBlur: function onBlur() {}\n    }, /*#__PURE__*/React.createElement(Box, {\n      ref: function ref(c) {\n        detailRefs[i] = c;\n      },\n      fill: \"vertical\",\n      border: detailIndex === i ? true : undefined\n    }));\n  }))), detailIndex !== undefined && detailRefs[detailIndex] && /*#__PURE__*/React.createElement(Drop, {\n    key: \"drop\",\n    target: detailRefs[detailIndex],\n    align: detailIndex > data.length / 2 ? {\n      right: 'left'\n    } : {\n      left: 'right'\n    },\n    plain: true,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/React.createElement(Box, {\n    pad: \"small\",\n    background: {\n      color: 'background-back'\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    columns: ['auto', 'auto', 'auto'],\n    gap: \"xsmall\",\n    align: \"center\"\n  }, series.filter(function (_ref2) {\n    var property = _ref2.property;\n    return !activeProperty || activeProperty === property || axis && axis.x && axis.x.property === property;\n  }).map(function (serie) {\n    var propertyStyle = seriesStyles[serie.property];\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: serie.property\n    }, propertyStyle ? /*#__PURE__*/React.createElement(Swatch, propertyStyle) : /*#__PURE__*/React.createElement(\"span\", null), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\"\n    }, serie.label || serie.property), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\",\n      weight: \"bold\"\n    }, renderValue(serie, detailIndex)));\n  })))));\n};\n\nexport { Detail };"]},"metadata":{},"sourceType":"module"}